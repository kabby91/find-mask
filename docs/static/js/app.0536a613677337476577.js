webpackJsonp([1],{"7YKD":function(t,e){},DPKz:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("j1ja");var a=n("7+uW"),s=n("zL8q"),o=n.n(s),r=(n("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("el-menu",{staticClass:"el-header",attrs:{"text-color":"#000000",mode:"horizontal"}},[e("el-menu-item",{attrs:{index:"1"}},[e("a",{attrs:{href:"/"}},[this._v("현 위치")])]),this._v(" "),e("el-menu-item",{attrs:{index:"2"}},[e("a",{attrs:{href:"#"}},[this._v("위치 검색")])])],1)],1)},staticRenderFns:[]});var i=n("VU/8")({name:"Header"},r,!1,function(t){n("YpSs")},"data-v-e8ee01fe",null).exports,c=new a.default,l={name:"Map",data:function(){return{findMask:{address:"",count:"",stores:[]},text:"현재 위치"}},created:function(){this.getLocation()},mounted:function(){var t=this;c.$on("현재 위치",function(e){t.findMask=e,t.drawMap(t.findMask,"현재 위치")})},methods:{drawMap:function(t,e){if(0!=t.stores.length){for(var n=0,a=0,s=t.stores.length,o=0;o<s;o++)n+=t.stores[o].lat,a+=t.stores[o].lng;n/=s,a/=s;for(var r=document.getElementById("map"),i={center:new kakao.maps.LatLng(n,a),level:5},c=new kakao.maps.Map(r,i),l=0;l<s;l++){var u='<div class="label">';u+="<ul>",u+="    <li>",u+='        <span class="label">약국 : </span><span class="name">'+t.stores[l].name+"</span>",u+="    </li>",u+="    <li>",u+='        <span class="label">수량 : </span><span class="number">'+t.stores[l].remain_stat+"</span>",u+="    </li>",u+="</ul>",u+="</div>";var p=new kakao.maps.LatLng(t.stores[l].lat,t.stores[l].lng);new kakao.maps.CustomOverlay({position:p,content:u}).setMap(c)}}},getLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.onSuccessGeolocation,this.onErrorGeolocation):alert("error")},onSuccessGeolocation:function(t){console.log(t)},onErrorGeolocation:function(){var t=document.getElementById("map"),e={center:new kakao.maps.LatLng(33.450701,126.570667),level:5};new kakao.maps.Map(t,e)}}},u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"map"}})},staticRenderFns:[]};var p=n("VU/8")(l,u,!1,function(t){n("7YKD")},null,null).exports,d={name:"MaskDesciption",data:function(){return{maskEndYYYY:this.getTodayMask()}},methods:{getTodayMask:function(){return["상관 없이 모두","1, 6 의","2, 7 의","3, 8 의","4, 9 의","5, 0 의","상관 없이 모두"][(new Date).getDay()]}}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mask-description"},[e("p",{staticClass:"mask-yyyy"},[this._v("오늘은 출생연도 끝자리 "),e("span",[this._v(this._s(this.maskEndYYYY))]),this._v(" 공적마스크 구매가 가능합니다 🙂")]),this._v(" "),e("p",{staticClass:"mask-materials"},[this._v(" 1인당 2매가 가능합니다. 주민등록증 또는 운전면허증 을 지참해주세요. ")])])},staticRenderFns:[]};var f=n("VU/8")(d,m,!1,function(t){n("q0Dh")},null,null).exports,v={name:"App",components:{Header:i,Map:p,MaskDescription:f}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var g=n("VU/8")(v,h,!1,function(t){n("nhIx")},null,null).exports,k=n("/ocq"),M=n("mtWM"),_=n.n(M),w={name:"Map",data:function(){return{lat:37.2683492,lng:127.1365699,m:5e3,findMask:{address:"",count:"",stores:[]}}},mounted:function(){this.getLocation()},methods:{getStoresByGeo:function(t){var e=this;this.lat=t.coords.latitude,this.lng=t.coords.longitude,_.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat="+this.lat+"&lng="+this.lng+"&m="+this.m).then(function(n){e.findMask=n.data,e.drawMap(t,e.findMask)}).catch(function(t){console.log(t)})},getLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.onSuccessGeolocation,this.onErrorGeolocation):alert("error")},onSuccessGeolocation:function(t){this.getStoresByGeo(t)},onErrorGeolocation:function(){var t=document.getElementById("map"),e={center:new kakao.maps.LatLng(33.450701,126.570667),level:5};new kakao.maps.Map(t,e)},drawMap:function(t,e){if(console.log(t),0!=e.stores.length){for(var n=0,a=0,s=e.stores.length,o=0;o<s;o++)n+=e.stores[o].lat,a+=e.stores[o].lng;n/=s,a/=s;for(var r=document.getElementById("map"),i={center:new kakao.maps.LatLng(n,a),level:5},c=new kakao.maps.Map(r,i),l=0;l<s;l++){var u='<div class="find-mask-here">';u+='        </span><span class="number">'+this.getRemainStat(e.stores[l].remain_stat)+"</span>",u+="</div>";var p=new kakao.maps.LatLng(e.stores[l].lat,e.stores[l].lng);new kakao.maps.CustomOverlay({position:p,content:u}).setMap(c)}}},getRemainStat:function(t){var e="";switch(t){case"plenty":e="100개 이상";break;case"some":e="30개 이상 100개미만";break;case"few":e="1개 이상 30개 미만";break;case"empty":e="없음";break;case"break":e="판매중지"}return e}}},y={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"map"}})},staticRenderFns:[]};var L={name:"CurrentPositionPage",components:{MaskDescription:f,CurrentMap:n("VU/8")(w,y,!1,function(t){n("DPKz")},null,null).exports}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("MaskDescription"),this._v(" "),e("CurrentMap")],1)},staticRenderFns:[]};var b=n("VU/8")(L,E,!1,function(t){n("g20I")},null,null).exports,x={name:"Map",data:function(){return{addr:"",findMask:{address:"",count:"",stores:[]},text:"현재 위치"}},created:function(){this.getLocation()},mounted:function(){var t=this;c.$on("현재 위치",function(e){t.findMask=e,t.drawMap(t.findMask,"현재 위치")})},methods:{drawMap:function(t,e){if(0!=t.stores.length){for(var n=0,a=0,s=t.stores.length,o=0;o<s;o++)n+=t.stores[o].lat,a+=t.stores[o].lng;n/=s,a/=s;for(var r=document.getElementById("map"),i={center:new kakao.maps.LatLng(n,a),level:5},c=new kakao.maps.Map(r,i),l=0;l<s;l++){var u='<div class="label">';u+="<ul>",u+="    <li>",u+='        <span class="label">약국 : </span><span class="name">'+t.stores[l].name+"</span>",u+="    </li>",u+="    <li>",u+='        <span class="label">수량 : </span><span class="number">'+t.stores[l].remain_stat+"</span>",u+="    </li>",u+="</ul>",u+="</div>";var p=new kakao.maps.LatLng(t.stores[l].lat,t.stores[l].lng);new kakao.maps.CustomOverlay({position:p,content:u}).setMap(c)}}},getLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.onSuccessGeolocation,this.onErrorGeolocation):alert("error")},onSuccessGeolocation:function(t){console.log(t)},onErrorGeolocation:function(){var t=document.getElementById("map"),e={center:new kakao.maps.LatLng(33.450701,126.570667),level:5};new kakao.maps.Map(t,e)}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"search-addr"}},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"예- '서울특별시 강남구' or '서울특별시 강남구 논현동' ('서울특별시' 와 같이 '시'단위만 입력하는 것은 불가능합니다.)"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchMask(e)}},model:{value:t.addr,callback:function(e){t.addr=e},expression:"addr"}},[n("el-button",{staticClass:"submit",attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchMask},slot:"append"})],1)],1),t._v(" "),n("div",{attrs:{id:"map"}})])},staticRenderFns:[]};var S={name:"SearchPositionPage",components:{MaskDescription:f,SearchMap:n("VU/8")(x,C,!1,function(t){n("YxgO")},null,null).exports}},G={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("MaskDescription"),this._v(" "),e("SearchMap")],1)},staticRenderFns:[]};var D=n("VU/8")(S,G,!1,function(t){n("mM03")},null,null).exports;a.default.use(k.a);var P=new k.a({mode:"history",routes:[{path:"/",name:"CurrentPositionPage",component:b},{path:"/search",name:"SearchPositionPage",component:D}]});a.default.config.productionTip=!1,a.default.use(o.a),new a.default({el:"#app",router:P,components:{App:g},template:"<App/>"})},YpSs:function(t,e){},YxgO:function(t,e){},g20I:function(t,e){},mM03:function(t,e){},nhIx:function(t,e){},q0Dh:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0536a613677337476577.js.map